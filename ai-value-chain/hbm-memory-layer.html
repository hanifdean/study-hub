<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>HBM & Memory Layer ‚Äî AI Value Chain</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');
  
  * { margin: 0; padding: 0; box-sizing: border-box; }
  :root {
    --bg: #0a0a0f;
    --surface: #111118;
    --surface-alt: #1a1a2e;
    --surface-hover: #1e1e2a;
    --border: #1e1e2e;
    --border-alt: #2a2a4a;
    --text: #e8e8ed;
    --text-secondary: #d1d5db;
    --text-muted: #9ca3af;
    --text-dim: #6b7280;
    --text-dimmer: #4b5563;
    --accent: #5ec4b6;
    --accent-light: #34d399;
    --accent-glow: rgba(94, 196, 182, 0.12);
    --highlight-text: #fbbf24;
    --worth-accent: #a78bfa;
    --table-current-bg: rgba(94, 196, 182, 0.08);
    --table-current-text: #5ec4b6;
  }

  [data-theme="light"] {
    --bg: #f8f6f2;
    --surface: #ffffff;
    --surface-alt: #f5f3ef;
    --surface-hover: #faf8f5;
    --border: #e5e0d8;
    --border-alt: #d5d0c8;
    --text: #2c2a26;
    --text-secondary: #4a4640;
    --text-muted: #6b6560;
    --text-dim: #8a8580;
    --text-dimmer: #a5a09a;
    --accent: #1a8a7d;
    --accent-light: #059669;
    --accent-glow: rgba(26, 138, 125, 0.06);
    --highlight-text: #b45309;
    --worth-accent: #7c3aed;
    --table-current-bg: rgba(26, 138, 125, 0.08);
    --table-current-text: #1a8a7d;
  }

  
  body {
    font-family: 'Inter', -apple-system, sans-serif;
    background: var(--bg);
    color: var(--text);
    padding: 40px 24px;
    min-height: 100vh;
  
    transition: background 0.3s ease, color 0.3s ease;
  }
  
  .container {
    max-width: 1100px;
    margin: 0 auto;
  }
  
  h1 {
    font-size: 28px;
    font-weight: 800;
    margin-bottom: 6px;
    background: linear-gradient(135deg, #60a5fa, #a78bfa);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }
  
  .subtitle {
    font-size: 14px;
    color: var(--text-dim);
    margin-bottom: 36px;
    font-weight: 500;
  }
  
  /* === SECTION HEADERS === */
  .section-title {
    font-size: 18px;
    font-weight: 700;
    margin-bottom: 16px;
    display: flex;
    align-items: center;
    gap: 8px;
  }
  .section-title .emoji { font-size: 20px; }
  
  /* === THE BIG PICTURE DIAGRAM === */
  .big-picture {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 16px;
    padding: 32px;
    margin-bottom: 32px;
    overflow-x: auto;
  }
  
  .flow-row {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0;
    flex-wrap: nowrap;
    min-width: 900px;
  }
  
  .flow-node {
    background: var(--surface-alt);
    border: 1.5px solid var(--border-alt);
    border-radius: 12px;
    padding: 14px 16px;
    text-align: center;
    min-width: 120px;
    flex-shrink: 0;
  }
  .flow-node .label { font-size: 11px; color: var(--text-muted); font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px; }
  .flow-node .name { font-size: 14px; font-weight: 700; margin-top: 4px; }
  .flow-node.highlight {
    border-color: #f59e0b;
    background: #1a1a10;
    box-shadow: 0 0 20px rgba(245, 158, 11, 0.15);
  }
  .flow-node.highlight .name { color: #fbbf24; }
  
  .flow-arrow {
    font-size: 18px;
    color: var(--text-dimmer);
    padding: 0 6px;
    flex-shrink: 0;
  }
  
  /* === HBM ANATOMY === */
  .hbm-anatomy {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 24px;
    margin-bottom: 32px;
  }
  
  .anatomy-card {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 16px;
    padding: 28px;
  }
  
  .anatomy-card h3 {
    font-size: 16px;
    font-weight: 700;
    margin-bottom: 16px;
  }
  
  /* HBM Stack Visual */
  .hbm-stack {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0;
    margin: 16px 0;
  }
  
  .hbm-die {
    width: 180px;
    height: 28px;
    border-radius: 4px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 11px;
    font-weight: 600;
    position: relative;
  }
  
  .hbm-die.dram {
    background: linear-gradient(135deg, #1e3a5f, #2563eb);
    border: 1px solid #3b82f6;
    margin-bottom: 2px;
  }
  
  .hbm-die.logic {
    background: linear-gradient(135deg, #3b1f5e, #7c3aed);
    border: 1px solid #8b5cf6;
    margin-bottom: 4px;
  }
  
  .hbm-die.interposer {
    background: linear-gradient(135deg, #1a3a1a, #16a34a);
    border: 1px solid #22c55e;
    width: 260px;
    height: 32px;
    margin-top: 4px;
  }
  
  .hbm-die.gpu {
    background: linear-gradient(135deg, #5a1a1a, #dc2626);
    border: 1px solid #ef4444;
    width: 140px;
    height: 50px;
    margin-top: -36px;
    margin-left: -160px;
    align-self: flex-start;
    margin-bottom: 4px;
    font-size: 12px;
  }
  
  .stack-label {
    font-size: 10px;
    color: var(--text-muted);
    text-align: center;
    margin-top: 2px;
    font-weight: 500;
  }
  
  .bracket-label {
    display: flex;
    align-items: center;
    gap: 8px;
    margin: 8px 0 4px 0;
    font-size: 11px;
    color: #fbbf24;
    font-weight: 600;
  }
  
  /* GPU + HBM side by side */
  .cowos-layout {
    display: flex;
    align-items: flex-end;
    justify-content: center;
    gap: 16px;
    margin: 20px 0 8px 0;
    position: relative;
  }
  
  .cowos-element {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 2px;
  }
  
  .cowos-base {
    width: 360px;
    height: 28px;
    background: linear-gradient(135deg, #1a3a1a, #16a34a);
    border: 1px solid #22c55e;
    border-radius: 4px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 11px;
    font-weight: 600;
    margin-top: 6px;
  }
  
  .gpu-die {
    width: 100px;
    height: 60px;
    background: linear-gradient(135deg, #5a1a1a, #dc2626);
    border: 1px solid #ef4444;
    border-radius: 6px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 12px;
    font-weight: 700;
  }
  
  .hbm-mini-stack {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1px;
  }
  
  .hbm-mini-die {
    width: 44px;
    height: 7px;
    background: linear-gradient(135deg, #1e3a5f, #2563eb);
    border: 0.5px solid #3b82f6;
    border-radius: 2px;
  }
  .hbm-mini-die.base {
    background: linear-gradient(135deg, #3b1f5e, #7c3aed);
    border-color: #8b5cf6;
  }
  
  .cowos-label {
    font-size: 10px;
    color: var(--text-muted);
    font-weight: 500;
    margin-top: 2px;
  }
  
  /* === TRADEOFF SECTION === */
  .tradeoff {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 16px;
    padding: 28px;
    margin-bottom: 32px;
  }
  
  .wafer-split {
    display: flex;
    align-items: stretch;
    gap: 0;
    margin: 20px 0;
    border-radius: 12px;
    overflow: hidden;
    height: 120px;
  }
  
  .wafer-side {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 16px;
    transition: flex 0.3s;
  }
  
  .wafer-side.ddr {
    background: linear-gradient(135deg, #1a2a1a, #166534);
    border: 1px solid #22c55e;
  }
  
  .wafer-side.hbm {
    background: linear-gradient(135deg, #1a1a3a, #1e40af);
    border: 1px solid #3b82f6;
    flex: 1.8;
  }
  
  .wafer-side .side-label { font-size: 13px; font-weight: 700; }
  .wafer-side .side-sub { font-size: 11px; opacity: 0.7; margin-top: 4px; }
  .wafer-side .side-margin { font-size: 20px; font-weight: 800; margin-top: 6px; }
  
  .vs-divider {
    width: 40px;
    background: var(--border);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 12px;
    font-weight: 800;
    color: var(--text-dim);
  }
  
  .arrow-label {
    text-align: center;
    margin: 12px 0 0 0;
    font-size: 13px;
    color: #f59e0b;
    font-weight: 600;
  }
  
  .consequence-chain {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0;
    margin: 20px 0 8px 0;
    flex-wrap: wrap;
  }
  
  .consequence-node {
    background: var(--surface-alt);
    border: 1px solid var(--border-alt);
    border-radius: 8px;
    padding: 10px 14px;
    font-size: 12px;
    font-weight: 600;
    text-align: center;
    max-width: 160px;
  }
  .consequence-node.bad {
    border-color: #991b1b;
    background: #1a1010;
    color: #fca5a5;
  }
  .consequence-node.good {
    border-color: #166534;
    background: #101a10;
    color: #86efac;
  }
  
  .c-arrow {
    font-size: 16px;
    color: var(--text-dimmer);
    padding: 0 6px;
  }
  
  /* === HBM GENERATIONS === */
  .gen-table {
    width: 100%;
    border-collapse: collapse;
    margin: 16px 0;
    font-size: 13px;
  }
  
  .gen-table th {
    text-align: left;
    padding: 10px 12px;
    border-bottom: 2px solid var(--border-alt);
    color: var(--text-muted);
    font-weight: 600;
    font-size: 11px;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }
  
  .gen-table td {
    padding: 10px 12px;
    border-bottom: 1px solid var(--border);
    font-weight: 500;
  }
  
  .gen-table tr.current {
    background: rgba(245, 158, 11, 0.08);
  }
  .gen-table tr.current td { color: #fbbf24; font-weight: 600; }
  
  .gen-badge {
    display: inline-block;
    font-size: 9px;
    font-weight: 700;
    padding: 2px 6px;
    border-radius: 4px;
    margin-left: 6px;
    vertical-align: middle;
  }
  .gen-badge.now { background: #166534; color: #86efac; }
  .gen-badge.next { background: #92400e; color: #fde68a; }
  
  /* === MARKET SHARE === */
  .market-bars {
    display: flex;
    flex-direction: column;
    gap: 12px;
    margin: 16px 0;
  }
  
  .market-bar-row {
    display: flex;
    align-items: center;
    gap: 12px;
  }
  
  .bar-label {
    width: 90px;
    font-size: 13px;
    font-weight: 600;
    text-align: right;
    flex-shrink: 0;
  }
  
  .bar-track {
    flex: 1;
    height: 32px;
    background: var(--surface-alt);
    border-radius: 6px;
    overflow: hidden;
    position: relative;
  }
  
  .bar-fill {
    height: 100%;
    border-radius: 6px;
    display: flex;
    align-items: center;
    padding-left: 10px;
    font-size: 12px;
    font-weight: 700;
    transition: width 1s ease;
  }
  
  .bar-fill.hynix { background: linear-gradient(90deg, #1e40af, #3b82f6); width: 62%; }
  .bar-fill.micron { background: linear-gradient(90deg, #166534, #22c55e); width: 21%; }
  .bar-fill.samsung { background: linear-gradient(90deg, #7c2d12, #f97316); width: 17%; }
  
  .bar-flag {
    font-size: 10px;
    color: var(--text-dim);
    margin-left: 8px;
  }
  
  /* === KEY NUMBERS === */
  .key-numbers {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 16px;
    margin: 24px 0;
  }
  
  .key-num {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 20px;
    text-align: center;
  }
  
  .key-num .num {
    font-size: 28px;
    font-weight: 800;
    background: linear-gradient(135deg, #60a5fa, #a78bfa);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }
  
  .key-num .desc {
    font-size: 11px;
    color: var(--text-muted);
    margin-top: 6px;
    line-height: 1.4;
  }
  
  /* === WORTH KNOWING === */
  .worth-knowing {
    background: var(--surface);
    border: 1px solid var(--border-alt);
    border-left: 3px solid var(--worth-accent);
    border-radius: 0 12px 12px 0;
    padding: 24px;
    margin-top: 32px;
  }
  
  .worth-knowing h3 {
    font-size: 15px;
    font-weight: 700;
    color: var(--worth-accent);
    margin-bottom: 12px;
  }
  
  .worth-knowing ul {
    list-style: none;
    padding: 0;
  }
  
  .worth-knowing li {
    font-size: 13px;
    line-height: 1.6;
    padding: 6px 0;
    border-bottom: 1px solid var(--border);
    color: var(--text-secondary);
  }
  .worth-knowing li:last-child { border-bottom: none; }
  .worth-knowing li strong { color: var(--text); }
  
  /* === MOBILE RESPONSIVE === */
  @media (max-width: 600px) {
    body { padding: 20px 12px; font-size: 15px; }
    
    h1 { font-size: 22px; }
    .subtitle { font-size: 13px; margin-bottom: 24px; }
    .section-title { font-size: 16px; }
    
    /* Big picture flow ‚Äî stack vertically */
    .big-picture { padding: 20px 14px; overflow-x: visible; }
    .flow-row {
      min-width: auto;
      flex-direction: column;
      align-items: stretch;
      gap: 0;
    }
    .flow-node {
      min-width: auto;
      width: 100%;
      padding: 12px 14px;
    }
    .flow-node .name { font-size: 14px; }
    .flow-arrow {
      text-align: center;
      padding: 4px 0;
      font-size: 16px;
      transform: rotate(90deg);
    }
    
    /* Anatomy grid ‚Äî single column */
    .hbm-anatomy { grid-template-columns: 1fr; gap: 16px; }
    .anatomy-card { padding: 20px 16px; }
    .anatomy-card h3 { font-size: 15px; }
    
    /* HBM stack visual ‚Äî scale down */
    .hbm-die { width: 140px; height: 22px; font-size: 9px; }
    .hbm-die.interposer { width: 200px; height: 26px; }
    .hbm-die.gpu { width: 110px; height: 40px; margin-left: -125px; font-size: 10px; }
    
    /* CoWoS layout ‚Äî scale and wrap */
    .cowos-layout { gap: 8px; flex-wrap: wrap; justify-content: center; }
    .cowos-base { width: 100%; max-width: 320px; }
    .gpu-die { width: 70px; height: 45px; font-size: 10px; }
    .hbm-mini-die { width: 30px; }
    
    /* Bandwidth comparison boxes */
    .anatomy-card div[style*="display:flex"][style*="gap:24px"] {
      flex-direction: column;
      gap: 12px;
    }
    
    /* Tradeoff section */
    .tradeoff { padding: 20px 14px; }
    .wafer-split { flex-direction: column; height: auto; }
    .wafer-side { padding: 14px; }
    .wafer-side .side-margin { font-size: 18px; }
    .vs-divider {
      width: 100%;
      height: 32px;
    }
    
    /* Consequence chain ‚Äî stack vertically */
    .consequence-chain {
      flex-direction: column;
      align-items: stretch;
      gap: 0;
    }
    .consequence-node {
      max-width: none;
      width: 100%;
      padding: 12px 14px;
      font-size: 13px;
    }
    .c-arrow {
      text-align: center;
      padding: 4px 0;
      transform: rotate(90deg);
    }
    
    /* Table ‚Äî horizontal scroll */
    .anatomy-card:has(.gen-table) { padding: 20px 0; }
    .anatomy-card:has(.gen-table) > h3,
    .anatomy-card:has(.gen-table) > p { padding: 0 16px; }
    .gen-table { font-size: 12px; display: block; overflow-x: auto; -webkit-overflow-scrolling: touch; }
    .gen-table th { padding: 8px 10px; font-size: 10px; white-space: nowrap; }
    .gen-table td { padding: 8px 10px; white-space: nowrap; }
    
    /* Market bars */
    .bar-label { width: 70px; font-size: 12px; }
    .bar-track { height: 36px; }
    .bar-fill { font-size: 11px; padding-left: 8px; min-height: 44px; }
    
    /* Key numbers ‚Äî single column */
    .key-numbers { grid-template-columns: 1fr; gap: 12px; }
    .key-num { padding: 16px; }
    .key-num .num { font-size: 24px; }
    .key-num .desc { font-size: 12px; }
    
    /* Worth knowing */
    .worth-knowing { padding: 20px 16px; }
    .worth-knowing li { font-size: 14px; line-height: 1.7; padding: 8px 0; }
    
    /* General text readability */
    p { font-size: 14px; }
    .stack-label { font-size: 11px; }
  }
  
  /* Small phones */
  @media (max-width: 360px) {
    body { padding: 16px 8px; }
    .big-picture { padding: 16px 10px; }
    .anatomy-card { padding: 16px 12px; }
    .hbm-die { width: 120px; }
    .hbm-die.interposer { width: 170px; }
    .hbm-die.gpu { width: 95px; margin-left: -105px; }
    .cowos-base { max-width: 280px; }
    .key-num .num { font-size: 22px; }
  }

  .top-bar {
    display: flex;
    align-items: center;
    justify-content: space-between;
    max-width: 1100px;
    margin: 0 auto 0;
    padding: 0 0 16px 0;
  }
  .back-link {
    font-size: 13px;
    color: var(--text-muted);
    text-decoration: none;
    display: flex;
    align-items: center;
    gap: 6px;
    transition: color 0.2s;
  }
  .back-link:hover { color: var(--accent); }
  .theme-toggle {
    background: none;
    border: 1.5px solid var(--border-alt);
    border-radius: 8px;
    padding: 6px 10px;
    cursor: pointer;
    font-size: 16px;
    color: var(--text-muted);
    transition: border-color 0.2s, color 0.2s;
  }
  .theme-toggle:hover { border-color: var(--accent); color: var(--accent); }

  /* Inline jargon links */
  .jargon {
    color: var(--accent);
    text-decoration: none;
    border-bottom: 1.5px dotted var(--accent);
    cursor: pointer;
    transition: color 0.2s, border-color 0.2s;
  }
  .jargon:hover {
    color: var(--teal, var(--accent-light, #2dd4bf));
    border-color: var(--teal, var(--accent-light, #2dd4bf));
  }
  .jargon-def {
    scroll-margin-top: 24px;
  }
  .jargon-def:target {
    outline: 2px solid var(--accent);
    outline-offset: 4px;
    border-radius: 10px;
    animation: jargon-flash 1.2s ease;
  }
  @keyframes jargon-flash {
    0%, 100% { outline-color: transparent; }
    20%, 80% { outline-color: var(--accent); }
  }
  .jargon-back {
    font-size: 11px;
    color: var(--muted, var(--text-muted, #9ca3af));
    text-decoration: none;
    margin-left: 6px;
    opacity: 0.7;
    transition: opacity 0.2s, color 0.2s;
  }
  .jargon-back:hover { opacity: 1; color: var(--accent); }
</style>
</head>
<body>
<div class="container">
<div class="top-bar">
  <a href="../" class="back-link">‚Üê Back to Study Hub</a>
  <button class="theme-toggle" onclick="toggleTheme()" title="Toggle light/dark mode">
    <span id="theme-icon">‚òÄÔ∏è</span>
  </button>
</div>

  
  <h1>üß† <a href="#jargon-hbm" class="jargon">HBM</a> & the Memory Layer</h1>
  <p class="subtitle">Layer 4 of the AI Value Chain ‚Äî where silicon meets <a href="#jargon-bandwidth" class="jargon">bandwidth</a></p>

  <!-- BIG PICTURE: Where Memory sits -->
  <div class="big-picture">
    <div class="section-title"><span class="emoji">üó∫Ô∏è</span> Where Memory Sits in the Stack</div>
    <div class="flow-row">
      <div class="flow-node"><div class="label">Layer 1</div><div class="name">Raw Materials</div></div>
      <div class="flow-arrow">‚Üí</div>
      <div class="flow-node"><div class="label">Layer 2</div><div class="name">Equipment</div></div>
      <div class="flow-arrow">‚Üí</div>
      <div class="flow-node"><div class="label">Layer 3</div><div class="name">Foundries</div></div>
      <div class="flow-arrow">‚Üí</div>
      <div class="flow-node highlight"><div class="label">Layer 4</div><div class="name">‚ö° Memory & <a href="#jargon-hbm" class="jargon">HBM</a></div></div>
      <div class="flow-arrow">‚Üí</div>
      <div class="flow-node"><div class="label">Layer 5</div><div class="name">Processors</div></div>
      <div class="flow-arrow">‚Üí</div>
      <div class="flow-node"><div class="label">Layer 6-9</div><div class="name">Infra ‚Üí AI</div></div>
    </div>
  </div>

  <!-- WHAT IS HBM -->
  <div class="hbm-anatomy">
    
    <!-- Physical Structure -->
    <div class="anatomy-card">
      <h3>üî¨ What <a href="#jargon-hbm" class="jargon">HBM</a> Actually Is</h3>
      <p style="font-size:13px;color:var(--text-muted);margin-bottom:12px;">High Bandwidth Memory = <a href="#jargon-dram" class="jargon">DRAM</a> dies stacked vertically like a tiny skyscraper, connected by thousands of tiny wires (<a href="#jargon-tsv" class="jargon">TSVs</a>) punched through each layer</p>
      
      <div class="hbm-stack">
        <div class="hbm-die dram"><a href="#jargon-dram" class="jargon">DRAM</a> Die 12</div>
        <div class="hbm-die dram"><a href="#jargon-dram" class="jargon">DRAM</a> Die 11</div>
        <div class="hbm-die dram">DRAM Die 10</div>
        <div class="hbm-die dram">DRAM Die 9</div>
        <div class="hbm-die dram">DRAM Die 8</div>
        <div class="hbm-die dram">DRAM Die 7</div>
        <div class="hbm-die dram">DRAM Die 6</div>
        <div class="hbm-die dram">DRAM Die 5</div>
        <div class="hbm-die dram">DRAM Die 4</div>
        <div class="hbm-die dram">DRAM Die 3</div>
        <div class="hbm-die dram">DRAM Die 2</div>
        <div class="hbm-die dram">DRAM Die 1</div>
        <div class="hbm-die logic"><a href="#jargon-logic-die" class="jargon">Logic Die</a> (Controller)</div>
      </div>
      <div class="stack-label">‚Üë HBM3E: 12 DRAM dies stacked + 1 <a href="#jargon-logic-die" class="jargon">logic die</a></div>
      <div class="stack-label" style="color:#60a5fa;margin-top:6px;">Connected by ~10,000+ <a href="#jargon-tsv" class="jargon">TSVs</a> (Through-Silicon Vias)</div>
    </div>

    <!-- How it connects to GPU -->
    <div class="anatomy-card">
      <h3>üîó How HBM Connects to the GPU</h3>
      <p style="font-size:13px;color:var(--text-muted);margin-bottom:8px;">GPU and HBM stacks sit side-by-side on a <a href="#jargon-interposer" class="jargon">silicon interposer</a> (<a href="#jargon-cowos" class="jargon">CoWoS</a> packaging by TSMC)</p>
      
      <div class="cowos-layout">
        <div class="cowos-element">
          <div class="gpu-die">GPU Die</div>
          <div class="cowos-label">Processor</div>
        </div>
        <div class="cowos-element">
          <div class="hbm-mini-stack">
            <div class="hbm-mini-die"></div>
            <div class="hbm-mini-die"></div>
            <div class="hbm-mini-die"></div>
            <div class="hbm-mini-die"></div>
            <div class="hbm-mini-die"></div>
            <div class="hbm-mini-die"></div>
            <div class="hbm-mini-die"></div>
            <div class="hbm-mini-die"></div>
            <div class="hbm-mini-die base"></div>
          </div>
          <div class="cowos-label">HBM Stack 1</div>
        </div>
        <div class="cowos-element">
          <div class="hbm-mini-stack">
            <div class="hbm-mini-die"></div>
            <div class="hbm-mini-die"></div>
            <div class="hbm-mini-die"></div>
            <div class="hbm-mini-die"></div>
            <div class="hbm-mini-die"></div>
            <div class="hbm-mini-die"></div>
            <div class="hbm-mini-die"></div>
            <div class="hbm-mini-die"></div>
            <div class="hbm-mini-die base"></div>
          </div>
          <div class="cowos-label">HBM Stack 2</div>
        </div>
        <div class="cowos-element">
          <div class="hbm-mini-stack">
            <div class="hbm-mini-die"></div>
            <div class="hbm-mini-die"></div>
            <div class="hbm-mini-die"></div>
            <div class="hbm-mini-die"></div>
            <div class="hbm-mini-die"></div>
            <div class="hbm-mini-die"></div>
            <div class="hbm-mini-die"></div>
            <div class="hbm-mini-die"></div>
            <div class="hbm-mini-die base"></div>
          </div>
          <div class="cowos-label">HBM Stack 3</div>
        </div>
        <div class="cowos-element">
          <div class="hbm-mini-stack">
            <div class="hbm-mini-die"></div>
            <div class="hbm-mini-die"></div>
            <div class="hbm-mini-die"></div>
            <div class="hbm-mini-die"></div>
            <div class="hbm-mini-die"></div>
            <div class="hbm-mini-die"></div>
            <div class="hbm-mini-die"></div>
            <div class="hbm-mini-die"></div>
            <div class="hbm-mini-die base"></div>
          </div>
          <div class="cowos-label">HBM Stack 4</div>
        </div>
      </div>
      <div class="cowos-base">Silicon Interposer (<a href="#jargon-cowos" class="jargon">CoWoS</a> by TSMC)</div>
      <p style="font-size:11px;color:var(--text-dim);margin-top:10px;text-align:center;">Nvidia H100 has 6 HBM stacks √ó 80GB = 80GB total ¬∑ B200 has 8 stacks = 192GB</p>
    </div>
  </div>

  <!-- WHY HBM EXISTS -->
  <div class="anatomy-card" style="margin-bottom:32px;">
    <h3>üí° Why HBM Exists ‚Äî The Bandwidth Problem</h3>
    <p style="font-size:13px;color:var(--text-secondary);line-height:1.7;margin-bottom:16px;">
      AI models need to move <strong>massive</strong> amounts of data to/from the GPU every second. Regular <a href="#jargon-ddr5" class="jargon">DDR5</a> RAM sits far away on the motherboard and connects through narrow pipes. HBM sits <em>right next to</em> the GPU with thousands of parallel connections.
    </p>
    <div style="display:flex;gap:24px;flex-wrap:wrap;">
      <div style="flex:1;min-width:200px;background:var(--surface-alt);border-radius:10px;padding:16px;text-align:center;">
        <div style="font-size:11px;color:var(--text-muted);font-weight:600;"><a href="#jargon-ddr5" class="jargon">DDR5</a> (Regular RAM)</div>
        <div style="font-size:24px;font-weight:800;color:var(--text-dim);margin:8px 0;">~50 GB/s</div>
        <div style="font-size:11px;color:var(--text-dim);">64-bit bus ¬∑ Far from GPU</div>
      </div>
      <div style="flex:1;min-width:200px;background:#1a1a3a;border:1px solid #3b82f6;border-radius:10px;padding:16px;text-align:center;">
        <div style="font-size:11px;color:#60a5fa;font-weight:600;">HBM3E</div>
        <div style="font-size:24px;font-weight:800;color:#60a5fa;margin:8px 0;">~4,800 GB/s</div>
        <div style="font-size:11px;color:#60a5fa;">1024-bit bus √ó 8 stacks ¬∑ Adjacent to GPU</div>
      </div>
    </div>
    <p style="font-size:12px;color:#fbbf24;text-align:center;margin-top:12px;font-weight:600;">HBM is ~100x faster than regular RAM. That's why AI chips need it.</p>
  </div>

  <!-- THE TRADEOFF -->
  <div class="tradeoff">
    <div class="section-title"><span class="emoji">‚öñÔ∏è</span> The HBM vs Consumer RAM Tradeoff</div>
    <p style="font-size:13px;color:var(--text-muted);margin-bottom:4px;">Same DRAM wafers, two very different products. Manufacturers must choose how to allocate limited fab capacity:</p>
    
    <div class="wafer-split">
      <div class="wafer-side ddr">
        <div class="side-label"><a href="#jargon-ddr5" class="jargon">DDR5</a> (Consumer)</div>
        <div class="side-sub">PCs, phones, servers</div>
        <div class="side-margin">~$3/GB</div>
      </div>
      <div class="vs-divider">VS</div>
      <div class="wafer-side hbm">
        <div class="side-label">HBM3E (AI)</div>
        <div class="side-sub">GPU accelerators</div>
        <div class="side-margin">~$15/GB</div>
        <div class="side-sub" style="color:#fbbf24;">‚Üê 3-5x more profitable</div>
      </div>
    </div>
    
    <div class="arrow-label">‚Üì So what happens?</div>
    
    <div class="consequence-chain">
      <div class="consequence-node good">AI demand for HBM explodes üìà</div>
      <div class="c-arrow">‚Üí</div>
      <div class="consequence-node">Fabs shift wafers to HBM (higher margin)</div>
      <div class="c-arrow">‚Üí</div>
      <div class="consequence-node bad">Less DDR5 supply for consumers</div>
      <div class="c-arrow">‚Üí</div>
      <div class="consequence-node bad">PC/phone RAM prices rise üìà</div>
    </div>
    <p style="font-size:12px;color:var(--text-dim);text-align:center;margin-top:12px;">This is the "memory shortage" you're seeing in the news. It's not that we can't make RAM ‚Äî it's that the economics of AI are pulling production away from consumers.</p>
  </div>

  <!-- HBM GENERATIONS -->
  <div class="anatomy-card" style="margin-bottom:32px;">
    <h3>üìä HBM Generations ‚Äî The Evolution</h3>
    <table class="gen-table">
      <thead>
        <tr>
          <th>Generation</th>
          <th>Bandwidth</th>
          <th>Capacity/Stack</th>
          <th>Layers</th>
          <th>Used In</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>HBM2e</td>
          <td>460 GB/s</td>
          <td>16 GB</td>
          <td>8 dies</td>
          <td>A100</td>
        </tr>
        <tr>
          <td>HBM3</td>
          <td>819 GB/s</td>
          <td>24 GB</td>
          <td>8 dies</td>
          <td>H100</td>
        </tr>
        <tr class="current">
          <td>HBM3E <span class="gen-badge now">NOW</span></td>
          <td>1,200 GB/s</td>
          <td>36 GB</td>
          <td>12 dies</td>
          <td>B200, MI300X</td>
        </tr>
        <tr>
          <td>HBM4 <span class="gen-badge next">2026</span></td>
          <td>1,800+ GB/s</td>
          <td>48 GB</td>
          <td>16 dies</td>
          <td>Nvidia Rubin, AMD MI450</td>
        </tr>
      </tbody>
    </table>
    <p style="font-size:11px;color:var(--text-dim);margin-top:8px;">Each generation = more layers stacked, wider bus, more <a href="#jargon-bandwidth" class="jargon">bandwidth</a>. The trend: models keep getting bigger ‚Üí need more memory ‚Üí need faster memory.</p>
  </div>

  <!-- MARKET SHARE -->
  <div class="anatomy-card" style="margin-bottom:32px;">
    <h3>üè¢ Who Makes HBM ‚Äî Market Share</h3>
    <div class="market-bars">
      <div class="market-bar-row">
        <div class="bar-label">SK Hynix</div>
        <div class="bar-track"><div class="bar-fill hynix">62% <span class="bar-flag">üá∞üá∑</span></div></div>
      </div>
      <div class="market-bar-row">
        <div class="bar-label">Micron</div>
        <div class="bar-track"><div class="bar-fill micron">21% <span class="bar-flag">üá∫üá∏</span></div></div>
      </div>
      <div class="market-bar-row">
        <div class="bar-label">Samsung</div>
        <div class="bar-track"><div class="bar-fill samsung">17% <span class="bar-flag">üá∞üá∑</span></div></div>
      </div>
    </div>
    <p style="font-size:12px;color:var(--text-secondary);margin-top:8px;line-height:1.6;">
      <strong>Key insight:</strong> 79% of HBM production is in South Korea. Micron is the <em>only</em> US-based supplier ‚Äî which is why it's getting $13.7B in CHIPS Act funding. All three producers are <strong>sold out through end of 2026</strong>.
    </p>
  </div>

  <!-- KEY NUMBERS -->
  <div class="section-title"><span class="emoji">üî¢</span> Key Numbers to Remember</div>
  <div class="key-numbers">
    <div class="key-num">
      <div class="num">34√ó</div>
      <div class="desc">More HBM per AI server vs previous generation</div>
    </div>
    <div class="key-num">
      <div class="num">21.7 TB</div>
      <div class="desc">HBM in Nvidia's GB300 rack (up from 640GB in DGX H100)</div>
    </div>
    <div class="key-num">
      <div class="num">$200B</div>
      <div class="desc">Micron's planned US investment in memory fabs</div>
    </div>
    <div class="key-num">
      <div class="num">239%</div>
      <div class="desc">Micron stock return in 2025</div>
    </div>
    <div class="key-num">
      <div class="num">100√ó</div>
      <div class="desc">HBM <a href="#jargon-bandwidth" class="jargon">bandwidth</a> vs regular DDR5 RAM</div>
    </div>
    <div class="key-num">
      <div class="num">3-5√ó</div>
      <div class="desc">HBM profit margin vs commodity DRAM</div>
    </div>
  </div>

  <!-- WORTH KNOWING -->
  
  <!-- JARGON DECODER -->
  <div class="anatomy-card" style="margin-bottom:32px;">
    <h3>üìñ Jargon Decoder</h3>
    <div style="display:flex;flex-direction:column;gap:8px;margin-top:12px;">
        <div id="jargon-hbm" class="jargon-def" style="padding:10px;background:var(--surface-alt, var(--surface-2, #1a1a2e));border-radius:10px;">
          <p style="font-size:13px;"><strong style="color:var(--accent);">HBM (High Bandwidth Memory)</strong> <a href="#" class="jargon-back" onclick="history.back();return false;">‚Ü© back</a></p>
          <p style="font-size:12px;color:var(--text-muted, var(--muted, #9ca3af));margin-top:4px;">A type of memory where DRAM dies are stacked vertically and connected by thousands of TSVs, providing much higher bandwidth than traditional DDR memory.</p>
        </div>
        <div id="jargon-tsv" class="jargon-def" style="padding:10px;background:var(--surface-alt, var(--surface-2, #1a1a2e));border-radius:10px;">
          <p style="font-size:13px;"><strong style="color:var(--accent);">TSV (Through-Silicon Via)</strong> <a href="#" class="jargon-back" onclick="history.back();return false;">‚Ü© back</a></p>
          <p style="font-size:12px;color:var(--text-muted, var(--muted, #9ca3af));margin-top:4px;">Tiny vertical wires punched through each DRAM die to connect the stacked layers. Manufacturing these without defects is extremely hard and a competitive moat.</p>
        </div>
        <div id="jargon-dram" class="jargon-def" style="padding:10px;background:var(--surface-alt, var(--surface-2, #1a1a2e));border-radius:10px;">
          <p style="font-size:13px;"><strong style="color:var(--accent);">DRAM (Dynamic Random Access Memory)</strong> <a href="#" class="jargon-back" onclick="history.back();return false;">‚Ü© back</a></p>
          <p style="font-size:12px;color:var(--text-muted, var(--muted, #9ca3af));margin-top:4px;">The fundamental memory technology used in both HBM and regular DDR RAM. Each bit is stored as a charge in a tiny capacitor.</p>
        </div>
        <div id="jargon-cowos" class="jargon-def" style="padding:10px;background:var(--surface-alt, var(--surface-2, #1a1a2e));border-radius:10px;">
          <p style="font-size:13px;"><strong style="color:var(--accent);">CoWoS (Chip-on-Wafer-on-Substrate)</strong> <a href="#" class="jargon-back" onclick="history.back();return false;">‚Ü© back</a></p>
          <p style="font-size:12px;color:var(--text-muted, var(--muted, #9ca3af));margin-top:4px;">TSMC's packaging technology that places GPU and HBM stacks side-by-side on a silicon interposer. The "glue" that connects memory to the processor.</p>
        </div>
        <div id="jargon-interposer" class="jargon-def" style="padding:10px;background:var(--surface-alt, var(--surface-2, #1a1a2e));border-radius:10px;">
          <p style="font-size:13px;"><strong style="color:var(--accent);">Silicon Interposer</strong> <a href="#" class="jargon-back" onclick="history.back();return false;">‚Ü© back</a></p>
          <p style="font-size:12px;color:var(--text-muted, var(--muted, #9ca3af));margin-top:4px;">A silicon bridge layer that sits under the GPU and HBM stacks, providing ultra-dense wiring between them.</p>
        </div>
        <div id="jargon-bandwidth" class="jargon-def" style="padding:10px;background:var(--surface-alt, var(--surface-2, #1a1a2e));border-radius:10px;">
          <p style="font-size:13px;"><strong style="color:var(--accent);">Memory Bandwidth</strong> <a href="#" class="jargon-back" onclick="history.back();return false;">‚Ü© back</a></p>
          <p style="font-size:12px;color:var(--text-muted, var(--muted, #9ca3af));margin-top:4px;">The rate at which data can be read from or written to memory, measured in GB/s or TB/s. HBM3E achieves ~4,800 GB/s vs DDR5's ~50 GB/s.</p>
        </div>
        <div id="jargon-logic-die" class="jargon-def" style="padding:10px;background:var(--surface-alt, var(--surface-2, #1a1a2e));border-radius:10px;">
          <p style="font-size:13px;"><strong style="color:var(--accent);">Logic Die (Base Die)</strong> <a href="#" class="jargon-back" onclick="history.back();return false;">‚Ü© back</a></p>
          <p style="font-size:12px;color:var(--text-muted, var(--muted, #9ca3af));margin-top:4px;">The bottom die in an HBM stack that contains the memory controller and interfaces. It manages communication between the DRAM dies and the GPU.</p>
        </div>
        <div id="jargon-ddr5" class="jargon-def" style="padding:10px;background:var(--surface-alt, var(--surface-2, #1a1a2e));border-radius:10px;">
          <p style="font-size:13px;"><strong style="color:var(--accent);">DDR5</strong> <a href="#" class="jargon-back" onclick="history.back();return false;">‚Ü© back</a></p>
          <p style="font-size:12px;color:var(--text-muted, var(--muted, #9ca3af));margin-top:4px;">The latest generation of standard desktop/server memory. Much cheaper than HBM but with far less bandwidth (~50 GB/s vs ~4,800 GB/s).</p>
        </div>
    </div>
  </div>

  <div class="worth-knowing">
    <h3>üìå Worth Knowing</h3>
    <ul>
      <li><strong>TSVs (Through-Silicon Vias)</strong> ‚Äî the tiny vertical wires punched through each DRAM die to connect the stacked layers. Manufacturing these without defects is extremely hard, which is why HBM yield rates are a competitive moat.</li>
      <li><strong>CoWoS bottleneck</strong> ‚Äî TSMC's Chip-on-Wafer-on-Substrate packaging is needed to put HBM + GPU together on one interposer. CoWoS capacity was a major bottleneck in 2024-2025 and TSMC has been aggressively expanding it.</li>
      <li><strong>Why SK Hynix leads</strong> ‚Äî they partnered with Nvidia early (2018) on HBM optimization. First to market with HBM3E. Samsung struggled with yield issues and only recently got Nvidia qualification.</li>
      <li><strong>Memory is no longer a commodity</strong> ‚Äî historically DRAM was a cyclical boom-bust commodity. HBM has transformed it into a strategic, high-margin product. Micron's CEO: "Memory is now essential to AI's cognitive functions."</li>
      <li><strong>The heat problem</strong> ‚Äî stacking 12 DRAM dies creates serious thermal challenges. HBM4 will need new thermal solutions, which is partly why it's being designed with a fundamentally different architecture.</li>
      <li><strong>Why not just use more regular RAM?</strong> ‚Äî It's about bandwidth, not just capacity. AI models need to read billions of parameters every inference. The data bus on regular RAM is simply too narrow ‚Äî like trying to fill a swimming pool through a garden hose vs a fire hydrant.</li>
    </ul>
  </div>

</div>
<script>
function toggleTheme() {
  const html = document.documentElement;
  const current = html.getAttribute('data-theme');
  const next = current === 'dark' ? 'light' : 'dark';
  html.setAttribute('data-theme', next);
  document.getElementById('theme-icon').textContent = next === 'dark' ? '‚òÄÔ∏è' : 'üåô';
  localStorage.setItem('theme', next);
}
(function() {
  const saved = localStorage.getItem('theme');
  if (saved) {
    document.documentElement.setAttribute('data-theme', saved);
    document.addEventListener('DOMContentLoaded', () => {
      const icon = document.getElementById('theme-icon');
      if (icon) icon.textContent = saved === 'dark' ? '‚òÄÔ∏è' : 'üåô';
    });
  }
})();
</script>
</body>
</html>
